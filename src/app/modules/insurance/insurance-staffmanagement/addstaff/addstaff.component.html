<div class="add_staff dashboard_main_content staff_profile_block login_time">
  <div class="main_title">{{ "add_staff" | translate }}</div>
  <form [formGroup]="addStaff" (ngSubmit)="onSubmit()">
    <div class="user_image_upload">
      <input
      class="ng-hide user_upload_input"
      (change)="selectFile($event)"
      accept="image/*"
      id="input-file-id"
      type="file"
    />
      <div class="user_upload_block">
        <span class="user_upload_wrapper">
          <span class="user_upload_icon">
            <img
            class="img-fluid mb-4"
            src="{{ staffIcon ? staffIcon : '/assets/img/create_profile.png' }}"
          />
          
            <span class="quick_view" *ngIf="staffIcon">
              <mat-icon
                class="closeicon"
                (click)="handleRemoveLogo()"
                >close</mat-icon >
            </span>
          </span>
        </span>

        <span class="edit_upload_wrapper">
          <span class="edit_upload_icon"
            ><img src="../../../assets/img/edit_profile.svg"
          /></span>
        </span>
      </div>
    </div>
<!-- 
    <div class="image-upload">
      <label for="file-input">
        <img
          class="img-fluid mb-4"
          src="{{ staffIcon ? staffIcon : '/assets/img/create_profile.png' }}"
          width="100px"
          height="100px"
        />
      </label>
      <mat-icon class="close" *ngIf="staffIcon" (click)="handleRemoveLogo()"
        >close</mat-icon
      >
      <input
        id="file-input"
        type="file"
        accept="image/*"
        (change)="selectFile($event)"
      />
      <span class="text-danger" *ngIf="staffIcon === '' && isSubmitted"
        >Select Profile Picture.</span
      >
    </div> -->
    <!-- <div class="profile_img">
      <img src="/assets/img/create_profile.png">
      <input class="ng-hide user_upload_input" (change)="selectFile($event)" formControlName="staff_profile" accept="image/*" id="input-file-id" type="file" />
    </div> -->
    <div class="row">
      <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label>{{ "date_of_joined" | translate }}</label>

          <mat-form-field class="example-full-width" appearance="fill">
            <input
              matInput
              formControlName="dateofcreation"
              [matDatepicker]="picker1"                     
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="picker1"
            ></mat-datepicker-toggle>
            <mat-datepicker #picker1></mat-datepicker>
          </mat-form-field>
        </div>
      </div>
      <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label
            >{{ "first_name" | translate }}<span class="danger">*</span></label
          >
          <mat-form-field appearance="fill">
            <input
              type="text"
              matInput
              placeholder="{{ 'enter_first_name' | translate }}"
              formControlName="first_name"
            />
          </mat-form-field>
          <span
            class="text-danger"
            *ngIf="isSubmitted && addStaffFormControl['first_name'].errors?.['required']"
          >
            {{ "first_name_is_required" | translate }}*
          </span>
        </div>
      </div>
      <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label>{{ "middle_name" | translate }}</label>
          <mat-form-field appearance="fill">
            <input
              type="text"
              matInput
              placeholder="{{ 'enter_middle_name' | translate }}"
              formControlName="middle_name"
            />
          </mat-form-field>
        </div>
      </div>

      <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label
            >{{ "last_name" | translate }}<span class="danger">*</span></label
          >
          <mat-form-field appearance="fill">
            <input
              type="text"
              matInput
              placeholder="{{ 'enter_last_name' | translate }}"
              formControlName="last_name"
            />
          </mat-form-field>
          <span
            class="text-danger"
            *ngIf="isSubmitted && addStaffFormControl['last_name'].errors?.['required']"
          >
            {{ "last_name_is_required" | translate }}*
          </span>
        </div>
      </div>

      <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label
            >{{ "date_of_birth" | translate
            }}<span class="danger">*</span></label
          >
          <mat-form-field class="example-full-width" appearance="fill">
            <input
              matInput
              [matDatepickerFilter]="myFilter"
              [matDatepicker]="picker"
              placeholder="{{ 'date_of_birth' | translate }}"
              formControlName="dob"
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="picker"
            ></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
          <span
          class="text-danger"
          *ngIf="isSubmitted && addStaffFormControl['dob'].errors?.['required']"
        >
          {{ "date_of_birth_is_required" | translate }}*
        </span>
        </div>
      </div>
      <!-- <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label>{{ "spoken_Language" | translate }}</label>      

          <mat-form-field appearance="fill">
            <mat-select
              placeholder="{{ 'select_language' | translate }}"
              formControlName="language"
              multiple
              (selectionChange)="onSelectionChange($event)"
            >
              <mat-option
                *ngFor="let language of spokenLanguages"
                [value]="language.value"
              >
                {{ language.label }}
              </mat-option>
            </mat-select>
          </mat-form-field>     
        </div>
      </div> -->
      <div class="col-sm-6 col-md-8 mb-3">
        <div class="form_field_wrapper">
          <label
            >{{ "address" | translate }}<span class="danger">*</span></label
          >
          <mat-form-field appearance="fill">
            <input
              type="text"
              matInput
              placeholder="{{ 'enter_address' | translate }}"
              formControlName="address"
              #address
            />
          </mat-form-field>
          <span
          class="text-danger"
          *ngIf="isSubmitted && addStaffFormControl['address'].errors?.['required']"
          >{{ "enter_address" | translate }}*</span>
        </div>
      </div>
      <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label>{{ "neighbourhood" | translate }}</label>
          <mat-form-field appearance="fill">
            <input
              type="text"
              matInput
              placeholder="{{ 'enter_neighbourhood' | translate }}"
              formControlName="neighbourhood"
            />
          </mat-form-field>
        </div>
      </div>
      <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper modal-body">
          <label
            >{{ "country" | translate }}<span class="danger">*</span></label
          >
          <select2
            [overlay]="overlay"
            [limitSelection]="0"
            [minCountForSearch]="0"
            (update)="getRegionList($event.value)"
            [data]="countryList"
            formControlName="nationality"
            [(ngModel)]="patchCountry"
          >
          </select2>
          <span
          class="text-danger"
          *ngIf="isSubmitted && addStaffFormControl['nationality'].errors?.['required']"
          >{{ "select_country" | translate }}*</span
        >
        </div>
      </div>
      <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label>{{ "region" | translate }}</label>
          <select2
            [overlay]="overlay"
            [limitSelection]="0"
            [minCountForSearch]="0"
            (update)="getProvienceList($event.value)"
            [data]="regionList"
            formControlName="region"
          >
          </select2>
          <span
          class="text-danger"
          *ngIf="isSubmitted && addStaffFormControl['region'].errors?.['required']"
          >{{ "select_region" | translate }}*</span
        >
        </div>
      </div>
      <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label>{{ "province" | translate }}</label>
          <select2
            [overlay]="overlay"
            [limitSelection]="0"
            [minCountForSearch]="0"
            (update)="getDepartmentList($event.value)"
            [data]="provienceList"
            formControlName="province"
          >
          </select2>
          <span
          class="text-danger"
          *ngIf="isSubmitted && addStaffFormControl['province'].errors?.['required']"
          >{{ "select_province" | translate }}*</span
        >
        </div>
      </div>
      <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label>{{ "department" | translate }}</label>
          <select2
            [overlay]="overlay"
            [limitSelection]="0"
            [minCountForSearch]="0"
            (update)="getCityList($event.value)"
            [data]="departmentList"
            formControlName="department"
          >
          </select2>
          <span
          class="text-danger"
          *ngIf="isSubmitted && addStaffFormControl['department'].errors?.['required']"
          >{{ "select_department" | translate }}*</span
        >
        </div>
      </div>
      <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label>{{ "city" | translate }}</label>
          <select2
            [overlay]="overlay"
            [limitSelection]="0"
            [minCountForSearch]="0"
            (update)="getCityId($event)"
            [data]="cityList"
            formControlName="city"
          >
          </select2>
          <span
          class="text-danger"
          *ngIf="isSubmitted && addStaffFormControl['city'].errors?.['required']"
          >{{ "select_city" | translate }}*</span>
        </div>
      </div>
      <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label>{{ "village" | translate }}</label>
          <select2
            [overlay]="overlay"
            [limitSelection]="0"
            [minCountForSearch]="0"
            (update)="getVillageId($event)"
            [data]="villageList"
            formControlName="village"
          >
          </select2>
          <span
          class="text-danger"
          *ngIf="isSubmitted && addStaffFormControl['village'].errors?.['required']"
          >{{ "select_village" | translate }}*</span
        >
        </div>
      </div>
      <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label>{{ "pincode" | translate }}</label>
          <mat-form-field appearance="fill">
            <input
              type="text"
              placeholder="{{ 'enter_pincode' | translate }}"
              matInput
              formControlName="pincode"
            />
          </mat-form-field>
        </div>
      </div>
      <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label>{{ "degree" | translate }}</label>
          <mat-form-field appearance="fill">
            <input
              type="text"
              matInput
              placeholder="{{ 'degree' | translate }}"
              formControlName="degree"
            />
          </mat-form-field>
          <!-- <span
            class="text-danger"
            *ngIf="isSubmitted && addStaffFormControl['degree'].errors?.['required']"
          >
            Degree is required*
          </span> -->
        </div>
      </div>
      <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label
            >{{ "phone_number" | translate
            }}<span class="danger">*</span></label
          >
          <mat-form-field appearance="fill">
            <input
              type="text"
              #countryPhone
              (focus)="onFocus()"
              formControlName="mobile"
              ng2TelInput
              placeholder="{{ 'enter_mobile' | translate }}"
              matInput
            />
          </mat-form-field>
          <span
            class="text-danger"
            *ngIf="isSubmitted && addStaffFormControl['mobile'].errors?.['required']"
          >
            {{ "phone_number_is_required" | translate }}*
          </span>
        </div>
      </div>
      <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label>{{"email" | translate}}<span class="danger">*</span></label>
          <mat-form-field appearance="fill">
            <input
              type="text"
              matInput
              placeholder="{{'enter_email' | translate}}"
              formControlName="email"
            />
          </mat-form-field>
          <span
            class="text-danger"
            *ngIf="isSubmitted && addStaffFormControl['email'].errors?.['required']"
          >
            {{"staff_email_is_required" | translate}}*
          </span>
        </div>
      </div>
      <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label>{{"role" | translate}}<span class="danger">*</span></label>
          <mat-form-field class="inner_label" appearance="fill">
            <mat-label>{{"select_role" | translate}}</mat-label>
            <mat-select
              disableRipple
              formControlName="role"
              multiple
              (selectionChange)="onSelectionChangeRole($event)"
            >
              <mat-option *ngFor="let rol of staffRole" value="{{ rol._id }}">
                {{ rol.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <span
            class="text-danger"
            *ngIf="isSubmitted && addStaffFormControl['role'].errors?.['required']"
          >
            {{"select_role" | translate}}*
          </span>
        </div>
      </div>

      <!-- <mat-form-field appearance="fill">
        <mat-select placeholder="Select Language" formControlName="language" multiple
          (selectionChange)="onSelectionChange($event)">
          <mat-option *ngFor="let language of spokenLanguages" [value]="language.value">
            {{ language.label }}
          </mat-option>
        </mat-select>
      </mat-form-field> -->
      <!-- <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label>User Name</label>
          <mat-form-field appearance="fill">
            <input
              type="text"
              matInput
              placeholder="User name"
              formControlName="userName"
            />
          </mat-form-field>
          <span
            class="text-danger"
            *ngIf="isSubmitted && addStaffFormControl['userName'].errors?.['required']"
          >
            User name is required*
          </span>
        </div>
      </div> -->
      <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label>{{"password" | translate}}<span class="danger">*</span></label>
          <mat-form-field appearance="fill">
            <input
              type="password"
              matInput
              placeholder="{{'password' | translate}}"
              formControlName="password"
            />
          </mat-form-field>
          <span
            class="text-danger"
            *ngIf="isSubmitted && addStaffFormControl['password'].errors?.['required']"
          >
            {{"enter_password" | translate}}*
          </span>
        </div>
      </div>
      <div class="col-sm-6 col-md-4 mb-3">
        <div class="form_field_wrapper">
          <label>{{"confirm_password" | translate}}<span class="danger">*</span></label>
          <mat-form-field appearance="fill">
            <input
              type="password"
              matInput
              placeholder="{{'confirm_password' | translate}}"
              formControlName="confirmPassword"
            />
          </mat-form-field>
          <span
            class="text-danger"
            *ngIf="isSubmitted && addStaffFormControl['confirmPassword'].errors?.['required']"
          >
            {{"enter_confirm_password" | translate}}
          </span>
          <span
            class="text-danger"
            *ngIf="isSubmitted && addStaffFormControl['confirmPassword'].errors?.['matching']"
          >
            {{"confim_password_does_not_match" | translate}}
          </span>
          <span
            class="text-success"
            *ngIf="!addStaffFormControl['confirmPassword'].errors"
          >
            {{"password_matched" | translate}}
          </span>
        </div>
      </div>

      <div class="col-sm-12 col-md-12">
        <div class="form_field_wrapper">
          <label>{{"about_staff" | translate}}</label>
          <mat-form-field appearance="fill">
            <textarea
              matInput
              placeholder="{{'describe_about_staff' | translate}}*"
              formControlName="aboutStaff"
            ></textarea>
          </mat-form-field>
        </div>
      </div>
    </div>
    <div class="primary_btn mt-4">
      <button
        type="button"
        class="btn btn-secondary"
        routerLink="/insurance/staffmanagement"
      >
        {{"cancel" | translate}}
      </button>
      <button type="submit" class="btn btn-primary">{{"add_staff" | translate}}</button>
    </div>
  </form>
</div>

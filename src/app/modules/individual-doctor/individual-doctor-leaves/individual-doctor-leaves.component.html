<div class="leaves dashboard_main_content">
  <div class="top_bar common_space">
    <div class="left_part --">
      <div class="search_bar common_content">
        <div class="input-group" *ngIf="role === 'INDIVIDUAL_DOCTOR_STAFF'">
          <button class="btn search-btn">
            <mat-icon>search</mat-icon>
          </button>
          <input
            type="search"
            class="form-control"
            placeholder="Search by leave type."
            aria-label="Search"
            (search)="handleSearch1($event)"
            (keyup)="handleSearch1($event)"
          />
        </div>
        <div class="input-group" *ngIf="role === 'INDIVIDUAL_DOCTOR'">
          <button class="btn search-btn">
            <mat-icon>search</mat-icon>
          </button>
          <input
            type="search"
            class="form-control"
            placeholder="Search by leave type."
            aria-label="Search"
            (search)="handleSearch($event)"
            (keyup)="handleSearch($event)"
          />
        </div>
      </div>
      <div class="content_wrap">
        <div class="policy date">
          <div
            class="form_field_wrapper"
            *ngIf="role === 'INDIVIDUAL_DOCTOR_STAFF'"
          >
            <mat-form-field class="example-full-width" appearance="fill">
              <input
                matInput
                placeholder="Date"
                [(ngModel)]="dateFilter"
                [matDatepicker]="picker"
                (dateChange)="handleSelectStartDateFilter1($event)"
              />
              <mat-datepicker-toggle
                matSuffix
                [for]="picker"
              ></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
          </div>
          <div class="form_field_wrapper" *ngIf="role === 'INDIVIDUAL_DOCTOR'">
            <mat-form-field class="example-full-width" appearance="fill">
              <input
                matInput
                placeholder="Date"
                [(ngModel)]="dateFilter"
                [matDatepicker]="picker"
                (dateChange)="handleSelectStartDateFilter($event)"
              />
              <mat-datepicker-toggle
                matSuffix
                [for]="picker"
              ></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
          </div>
        </div>
      </div>
    </div>
    <div class="right_part">
      <div class="primary_btn" *ngIf="activetab !== 0">
        <button
          type="button"
          class="btn btn-primary"
          (click)="openVerticallyCenterednewinvite(newinvitecontent)"
        >
          <a class="btn_svg">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="18"
              height="16"
              viewBox="0 0 18 16"
              fill="none"
            >
              <path
                d="M13.4008 0C10.9104 0 8.89209 2.01827 8.89209 4.50684C8.89209 6.99541 10.9104 9.01368 13.4008 9.01368C15.8913 9.01368 17.9096 6.99541 17.9096 4.50684C17.9096 2.01827 15.8913 0 13.4008 0Z"
              />
              <path
                d="M9.69723 4.1689C9.94285 6.22526 11.5746 7.85701 13.6329 8.10263V14.6239C13.6329 15.0219 13.3092 15.3456 12.9112 15.3456H1.36709C0.969152 15.3456 0.645467 15.0219 0.645467 14.6239V4.89053C0.645467 4.49259 0.969152 4.1689 1.36709 4.1689H9.69723ZM10.2684 3.52344H9.69533H1.36709C0.613098 3.52344 0 4.13654 0 4.88863V14.622C0 15.3741 0.613098 15.9872 1.36709 15.9872H12.9112C13.6652 15.9872 14.2783 15.3741 14.2783 14.622V8.10263V7.52952L13.7109 7.46097C11.9383 7.24963 10.5502 5.86349 10.3389 4.09084L10.2684 3.52344Z"
              />
              <path
                d="M11.2872 9.21484H2.98948C2.69054 9.21484 2.44873 9.45666 2.44873 9.75559C2.44873 10.0545 2.69054 10.2963 2.98948 10.2963H11.2872C11.5862 10.2963 11.828 10.0545 11.828 9.75559C11.828 9.45666 11.5862 9.21484 11.2872 9.21484Z"
              />
              <path
                d="M11.2872 12.1016H2.98948C2.69054 12.1016 2.44873 12.3434 2.44873 12.6423C2.44873 12.9412 2.69054 13.1831 2.98948 13.1831H11.2872C11.5862 13.1831 11.828 12.9412 11.828 12.6423C11.828 12.3434 11.5862 12.1016 11.2872 12.1016Z"
              />
              <path
                d="M2.98948 6.33203C2.69054 6.33203 2.44873 6.57384 2.44873 6.87278C2.44873 7.17171 2.69054 7.41352 2.98948 7.41352H9.49364C9.21756 7.07841 8.97384 6.71665 8.7663 6.33203H2.98948Z"
              />
              <path
                d="M15.931 4.03246H13.8747V1.97801C13.8747 1.71525 13.6614 1.50391 13.4006 1.50391C13.1378 1.50391 12.9265 1.71716 12.9265 1.97801V4.03246H10.8701C10.6073 4.03246 10.396 4.24381 10.396 4.50656C10.396 4.76932 10.6092 4.98067 10.8701 4.98067H12.9265V7.03512C12.9265 7.29787 13.1397 7.50922 13.4006 7.50922C13.6633 7.50922 13.8747 7.29597 13.8747 7.03512V4.98067H15.931C16.1938 4.98067 16.4051 4.76742 16.4051 4.50656C16.4051 4.24571 16.1938 4.03246 15.931 4.03246Z"
                fill="white"
              /></svg></a
          >{{ "add_leave" | translate }}
        </button>
      </div>
    </div>
  </div>

  <div class="bottom_bar common_space">
    <div class="leaves_tab">
      <mat-tab-group
        animationDuration="0ms"
        (selectedTabChange)="selectedTab($event)"
        [selectedIndex]="0"
      >
        <mat-tab *ngIf="role === 'INDIVIDUAL_DOCTOR_STAFF'">
          <ng-template mat-tab-label>
            <div class="btn_svg">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="18"
                height="16"
                viewBox="0 0 18 16"
                fill="none"
              >
                <path
                  d="M13.4008 0C10.9104 0 8.89209 2.01827 8.89209 4.50684C8.89209 6.99541 10.9104 9.01368 13.4008 9.01368C15.8913 9.01368 17.9096 6.99541 17.9096 4.50684C17.9096 2.01827 15.8913 0 13.4008 0Z"
                />
                <path
                  d="M9.69723 4.1689C9.94285 6.22526 11.5746 7.85701 13.6329 8.10263V14.6239C13.6329 15.0219 13.3092 15.3456 12.9112 15.3456H1.36709C0.969152 15.3456 0.645467 15.0219 0.645467 14.6239V4.89053C0.645467 4.49259 0.969152 4.1689 1.36709 4.1689H9.69723ZM10.2684 3.52344H9.69533H1.36709C0.613098 3.52344 0 4.13654 0 4.88863V14.622C0 15.3741 0.613098 15.9872 1.36709 15.9872H12.9112C13.6652 15.9872 14.2783 15.3741 14.2783 14.622V8.10263V7.52952L13.7109 7.46097C11.9383 7.24963 10.5502 5.86349 10.3389 4.09084L10.2684 3.52344Z"
                />
                <path
                  d="M11.2872 9.21484H2.98948C2.69054 9.21484 2.44873 9.45666 2.44873 9.75559C2.44873 10.0545 2.69054 10.2963 2.98948 10.2963H11.2872C11.5862 10.2963 11.828 10.0545 11.828 9.75559C11.828 9.45666 11.5862 9.21484 11.2872 9.21484Z"
                />
                <path
                  d="M11.2872 12.1016H2.98948C2.69054 12.1016 2.44873 12.3434 2.44873 12.6423C2.44873 12.9412 2.69054 13.1831 2.98948 13.1831H11.2872C11.5862 13.1831 11.828 12.9412 11.828 12.6423C11.828 12.3434 11.5862 12.1016 11.2872 12.1016Z"
                />
                <path
                  d="M2.98948 6.33203C2.69054 6.33203 2.44873 6.57384 2.44873 6.87278C2.44873 7.17171 2.69054 7.41352 2.98948 7.41352H9.49364C9.21756 7.07841 8.97384 6.71665 8.7663 6.33203H2.98948Z"
                />
                <path
                  d="M15.931 4.03246H13.8747V1.97801C13.8747 1.71525 13.6614 1.50391 13.4006 1.50391C13.1378 1.50391 12.9265 1.71716 12.9265 1.97801V4.03246H10.8701C10.6073 4.03246 10.396 4.24381 10.396 4.50656C10.396 4.76932 10.6092 4.98067 10.8701 4.98067H12.9265V7.03512C12.9265 7.29787 13.1397 7.50922 13.4006 7.50922C13.6633 7.50922 13.8747 7.29597 13.8747 7.03512V4.98067H15.931C16.1938 4.98067 16.4051 4.76742 16.4051 4.50656C16.4051 4.24571 16.1938 4.03246 15.931 4.03246Z"
                  fill="white"
                />
              </svg>
            </div>
            {{ "my_leave" | translate }}
          </ng-template>
          <div class="tab_content">
            <div class="table-wrap">
              <div class="table-inner">
                <table
                  mat-table
                  [dataSource]="dataDoctorstaffSource"
                  class="mat-elevation-z8"
                >
                  <!-- Staff Name Column -->

                  <!--Leave Type Column -->
                  <ng-container matColumnDef="leavetype">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      (click)="onSortData('leave_type')"
                    >
                      {{ "leave_type" | translate }}
                      <span
                        *ngIf="sortColumn === 'leave_type'"
                        class="material-icons sorticon"
                        >{{ sortIconClass }}</span
                      >
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.leave_type }}
                    </td>
                  </ng-container>

                  <!--Leave Reason Column -->
                  <ng-container matColumnDef="leavereason">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      (click)="onSortData('reason')"
                    >
                      {{ "leave_reason" | translate }}
                      <span
                        *ngIf="sortColumn === 'reason'"
                        class="material-icons sorticon"
                        >{{ sortIconClass }}</span
                      >
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.reason }}
                    </td>
                  </ng-container>

                  <!-- From Date -->
                  <ng-container matColumnDef="fromdate">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      (click)="onSortData('from_date')"
                    >
                      {{ "from_date" | translate }}
                      <span
                        *ngIf="sortColumn === 'from_date'"
                        class="material-icons sorticon"
                        >{{ sortIconClass }}</span
                      >
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.from_date | date : "dd-MM-yyyy HH:mm" }}
                    </td>
                  </ng-container>

                  <!-- To Date Date -->
                  <ng-container matColumnDef="todate">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      (click)="onSortData('to_date')"
                    >
                      {{ "to_date" | translate }}
                      <span
                        *ngIf="sortColumn === 'to_date'"
                        class="material-icons sorticon"
                        >{{ sortIconClass }}</span
                      >
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.to_date | date : "dd-MM-yyyy HH:mm" }}
                    </td>
                  </ng-container>

                  <!-- Comment -->
                  <ng-container matColumnDef="comment">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      (click)="onSortData('subject')"
                    >
                      {{ "subject" | translate }}
                      <span
                        *ngIf="sortColumn === 'subject'"
                        class="material-icons sorticon"
                        >{{ sortIconClass }}</span
                      >
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.subject }}
                    </td>
                  </ng-container>

                  <!--Action column -->
                  <ng-container matColumnDef="action">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      (click)="onSortData('status')"
                    >
                      {{ "action" | translate }}
                      <span
                        *ngIf="sortColumn === 'status'"
                        class="material-icons sorticon"
                        >{{ sortIconClass }}</span
                      >
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <div *ngIf="element.status == 1" class="status approved">
                        {{ "approved" | translate }}
                      </div>

                      <div *ngIf="element.status == 0" class="status pending">
                        {{ "pending" | translate }}
                      </div>
                      <div *ngIf="element.status == 2" class="status rejected">
                        {{ "rejected" | translate }}
                      </div>
                    </td>
                  </ng-container>

                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr
                    mat-row
                    *matRowDef="let row; columns: displayedColumns"
                  ></tr>
                </table>
              </div>
              <div
                *ngIf="dataDoctorstaffSource?.length === 0"
                class="text-center"
              >
                <b>{{ "no_record_found" | translate }}</b>
              </div>
              <mat-paginator
                class="pagination"
                [length]="totalLength"
                (page)="handlePageDoctorStaffEvent($event)"
                [pageSize]="pageSize"
                [pageSizeOptions]="[5, 10, 20]"
                showFirstLastButtons
                aria-label="Select page of periodic elements"
              >
              </mat-paginator>
            </div>
          </div>
        </mat-tab>
        <mat-tab *ngIf="role === 'INDIVIDUAL_DOCTOR'">
          <ng-template mat-tab-label>
            <div class="btn_svg">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="18"
                height="16"
                viewBox="0 0 18 16"
                fill="none"
              >
                <path
                  d="M13.4008 0C10.9104 0 8.89209 2.01827 8.89209 4.50684C8.89209 6.99541 10.9104 9.01368 13.4008 9.01368C15.8913 9.01368 17.9096 6.99541 17.9096 4.50684C17.9096 2.01827 15.8913 0 13.4008 0Z"
                />
                <path
                  d="M9.69723 4.1689C9.94285 6.22526 11.5746 7.85701 13.6329 8.10263V14.6239C13.6329 15.0219 13.3092 15.3456 12.9112 15.3456H1.36709C0.969152 15.3456 0.645467 15.0219 0.645467 14.6239V4.89053C0.645467 4.49259 0.969152 4.1689 1.36709 4.1689H9.69723ZM10.2684 3.52344H9.69533H1.36709C0.613098 3.52344 0 4.13654 0 4.88863V14.622C0 15.3741 0.613098 15.9872 1.36709 15.9872H12.9112C13.6652 15.9872 14.2783 15.3741 14.2783 14.622V8.10263V7.52952L13.7109 7.46097C11.9383 7.24963 10.5502 5.86349 10.3389 4.09084L10.2684 3.52344Z"
                />
                <path
                  d="M11.2872 9.21484H2.98948C2.69054 9.21484 2.44873 9.45666 2.44873 9.75559C2.44873 10.0545 2.69054 10.2963 2.98948 10.2963H11.2872C11.5862 10.2963 11.828 10.0545 11.828 9.75559C11.828 9.45666 11.5862 9.21484 11.2872 9.21484Z"
                />
                <path
                  d="M11.2872 12.1016H2.98948C2.69054 12.1016 2.44873 12.3434 2.44873 12.6423C2.44873 12.9412 2.69054 13.1831 2.98948 13.1831H11.2872C11.5862 13.1831 11.828 12.9412 11.828 12.6423C11.828 12.3434 11.5862 12.1016 11.2872 12.1016Z"
                />
                <path
                  d="M2.98948 6.33203C2.69054 6.33203 2.44873 6.57384 2.44873 6.87278C2.44873 7.17171 2.69054 7.41352 2.98948 7.41352H9.49364C9.21756 7.07841 8.97384 6.71665 8.7663 6.33203H2.98948Z"
                />
                <path
                  d="M15.931 4.03246H13.8747V1.97801C13.8747 1.71525 13.6614 1.50391 13.4006 1.50391C13.1378 1.50391 12.9265 1.71716 12.9265 1.97801V4.03246H10.8701C10.6073 4.03246 10.396 4.24381 10.396 4.50656C10.396 4.76932 10.6092 4.98067 10.8701 4.98067H12.9265V7.03512C12.9265 7.29787 13.1397 7.50922 13.4006 7.50922C13.6633 7.50922 13.8747 7.29597 13.8747 7.03512V4.98067H15.931C16.1938 4.98067 16.4051 4.76742 16.4051 4.50656C16.4051 4.24571 16.1938 4.03246 15.931 4.03246Z"
                  fill="white"
                />
              </svg>
            </div>
            {{ "staff_leave" | translate }}
          </ng-template>
          <div class="tab_content">
            <div class="table-wrap">
              <div class="table-inner">
                <table
                  mat-table
                  [dataSource]="dataStaffListSource"
                  class="mat-elevation-z8"
                >
                  <!-- Staff Name Column -->
                  <ng-container matColumnDef="staffname">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      (click)="onSortDataStaff('StaffData.name')"
                    >
                      {{ "staff_name" | translate }}
                      <span
                        *ngIf="sortColumnStaff === 'StaffData.name'"
                        class="material-icons sorticon"
                        >{{ sortIconClassStaff }}</span
                      >
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.StaffData?.name }}
                    </td>
                  </ng-container>

                  <!--Leave Type Column -->
                  <ng-container matColumnDef="leavetype">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      (click)="onSortDataStaff('leave_type')"
                    >
                      {{ "leave_type" | translate }}
                      <span
                        *ngIf="sortColumnStaff === 'leave_type'"
                        class="material-icons sorticon"
                        >{{ sortIconClassStaff }}</span
                      >
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.leave_type }}
                    </td>
                  </ng-container>

                  <!--Leave Reason Column -->
                  <ng-container matColumnDef="leavereason">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      (click)="onSortDataStaff('reason')"
                    >
                      {{ "leave_reason" | translate }}
                      <span
                        *ngIf="sortColumnStaff === 'reason'"
                        class="material-icons sorticon"
                        >{{ sortIconClassStaff }}</span
                      >
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.reason }}
                    </td>
                  </ng-container>

                  <!-- From Date -->
                  <ng-container matColumnDef="fromdate">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      (click)="onSortDataStaff('from_date')"
                    >
                      {{ "from_date" | translate }}
                      <span
                        *ngIf="sortColumnStaff === 'from_date'"
                        class="material-icons sorticon"
                        >{{ sortIconClassStaff }}</span
                      >
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.from_date | date : "dd-MM-yyyy HH:mm" }}
                    </td>
                  </ng-container>

                  <!-- To Date Date -->
                  <ng-container matColumnDef="todate">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      (click)="onSortDataStaff('to_date')"
                    >
                      {{ "to_date" | translate }}
                      <span
                        *ngIf="sortColumnStaff === 'to_date'"
                        class="material-icons sorticon"
                        >{{ sortIconClassStaff }}</span
                      >
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.to_date | date : "dd-MM-yyyy HH:mm" }}
                    </td>
                  </ng-container>

                  <!-- Comment -->
                  <ng-container matColumnDef="comment">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      (click)="onSortDataStaff('subject')"
                    >
                      {{ "subject" | translate }}
                      <span
                        *ngIf="sortColumnStaff === 'subject'"
                        class="material-icons sorticon"
                        >{{ sortIconClassStaff }}</span
                      >
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.subject }}
                    </td>
                  </ng-container>

                  <!--Action column -->
                  <ng-container matColumnDef="action">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      (click)="onSortDataStaff('status')"
                    >
                      {{ "action" | translate }}
                      <span
                        *ngIf="sortColumnStaff === 'status'"
                        class="material-icons sorticon"
                        >{{ sortIconClassStaff }}</span
                      >
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <div class="icon_group" *ngIf="element.status == 0">
                        <a
                          class="svgicon"
                          (click)="openVerticallyCenteredsecond(element)"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="18"
                            height="13"
                            viewBox="0 0 18 13"
                            fill="none"
                          >
                            <path
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M16.0599 1.01833C16.0083 1.03131 15.9168 1.06637 15.8565 1.09623C15.7963 1.1261 13.6881 3.17305 11.1711 5.64552L6.59516 10.1405L4.42834 8.01378C2.90597 6.51963 2.21962 5.86623 2.12068 5.81702C1.93063 5.72247 1.62585 5.7201 1.44584 5.81179C1.27792 5.89732 1.11027 6.0835 1.04128 6.26109C0.973349 6.43591 0.990558 6.67834 1.08333 6.85368C1.17701 7.03082 6.14003 11.8938 6.28893 11.9544C6.43815 12.0151 6.75154 12.0152 6.90107 11.9546C7.04975 11.8942 16.8279 2.29847 16.9293 2.11334C17.0233 1.94181 17.0236 1.60932 16.93 1.43668C16.7605 1.12428 16.3752 0.939004 16.0599 1.01833Z"
                              fill="#72D284"
                              stroke="#72D284"
                              stroke-width="0.5"
                            />
                          </svg>
                        </a>
                        <a
                          class="svgicon"
                          (click)="openVerticallyCenteredseconds(element)"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="14"
                            height="14"
                            viewBox="0 0 14 14"
                            fill="none"
                          >
                            <path
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M0.732011 0.0273918C0.447072 0.0832955 0.198888 0.27729 0.0752607 0.540672C0.0156383 0.667687 0.00265662 0.734558 0.00265662 0.914713C0.00260185 1.33793 -0.182811 1.12777 2.9456 4.25067L5.71266 7.01287L2.92336 9.80275C0.656614 12.07 0.122038 12.6183 0.0699202 12.7294C-0.0215539 12.9245 -0.0235805 13.2738 0.0656477 13.4679C0.145373 13.6413 0.319666 13.8216 0.495603 13.9124C0.693998 14.0149 1.00909 14.0292 1.23506 13.946C1.39388 13.8874 1.49305 13.792 4.19981 11.0924L7.00026 8.29945L9.78684 11.0782C12.0251 13.3101 12.6004 13.8698 12.7104 13.9222C12.8253 13.977 12.8892 13.9875 13.1075 13.9871C13.3354 13.9868 13.3848 13.9777 13.5057 13.9144C13.6735 13.8264 13.8586 13.6316 13.9383 13.459C14.0237 13.2742 14.0198 12.9204 13.9303 12.7294C13.8782 12.6183 13.3436 12.07 11.0769 9.80275L8.28757 7.01287L11.0546 4.25067C14.183 1.12777 13.9976 1.33793 13.9976 0.914713C13.9976 0.735542 13.9845 0.667769 13.9265 0.544912C13.7048 0.075282 13.1486 -0.118303 12.6839 0.112396C12.6115 0.148307 11.6127 1.12575 9.78679 2.9473L7.00012 5.72741L4.21345 2.9473C2.38758 1.12575 1.38871 0.148307 1.31635 0.112396C1.22367 0.0663931 0.919259 -0.00917537 0.867141 0.000916846C0.858623 0.00255786 0.797796 0.0144552 0.732011 0.0273918Z"
                              fill="#FF7354"
                            />
                          </svg>
                        </a>
                      </div>
                      <div *ngIf="element.status == 1" class="status approved">
                        {{ "approved" | translate }}
                      </div>
                      <div *ngIf="element.status == 2" class="status rejected">
                        {{ "rejected" | translate }}
                      </div>
                    </td>
                  </ng-container>

                  <tr mat-header-row *matHeaderRowDef="displayedColumns1"></tr>
                  <tr
                    mat-row
                    *matRowDef="let row; columns: displayedColumns1"
                  ></tr>
                </table>
              </div>
              <div
                *ngIf="dataStaffListSource?.length === 0"
                class="text-center"
              >
                <b>{{ "no_record_found" | translate }}</b>
              </div>
              <mat-paginator
                class="pagination"
                [length]="totalLength"
                (page)="handlestaffLeavelist($event)"
                [pageSize]="pageSize"
                [pageSizeOptions]="[5, 10, 20]"
                showFirstLastButtons
                aria-label="Select page of periodic elements"
              >
              </mat-paginator>
            </div>
          </div>
        </mat-tab>
        <mat-tab *ngIf="hospitalIds?.length > 0">
          <ng-template mat-tab-label>
            <div class="btn_svg">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="18"
                height="16"
                viewBox="0 0 18 16"
                fill="none"
              >
                <path
                  d="M13.4008 0C10.9104 0 8.89209 2.01827 8.89209 4.50684C8.89209 6.99541 10.9104 9.01368 13.4008 9.01368C15.8913 9.01368 17.9096 6.99541 17.9096 4.50684C17.9096 2.01827 15.8913 0 13.4008 0Z"
                />
                <path
                  d="M9.69723 4.1689C9.94285 6.22526 11.5746 7.85701 13.6329 8.10263V14.6239C13.6329 15.0219 13.3092 15.3456 12.9112 15.3456H1.36709C0.969152 15.3456 0.645467 15.0219 0.645467 14.6239V4.89053C0.645467 4.49259 0.969152 4.1689 1.36709 4.1689H9.69723ZM10.2684 3.52344H9.69533H1.36709C0.613098 3.52344 0 4.13654 0 4.88863V14.622C0 15.3741 0.613098 15.9872 1.36709 15.9872H12.9112C13.6652 15.9872 14.2783 15.3741 14.2783 14.622V8.10263V7.52952L13.7109 7.46097C11.9383 7.24963 10.5502 5.86349 10.3389 4.09084L10.2684 3.52344Z"
                />
                <path
                  d="M11.2872 9.21484H2.98948C2.69054 9.21484 2.44873 9.45666 2.44873 9.75559C2.44873 10.0545 2.69054 10.2963 2.98948 10.2963H11.2872C11.5862 10.2963 11.828 10.0545 11.828 9.75559C11.828 9.45666 11.5862 9.21484 11.2872 9.21484Z"
                />
                <path
                  d="M11.2872 12.1016H2.98948C2.69054 12.1016 2.44873 12.3434 2.44873 12.6423C2.44873 12.9412 2.69054 13.1831 2.98948 13.1831H11.2872C11.5862 13.1831 11.828 12.9412 11.828 12.6423C11.828 12.3434 11.5862 12.1016 11.2872 12.1016Z"
                />
                <path
                  d="M2.98948 6.33203C2.69054 6.33203 2.44873 6.57384 2.44873 6.87278C2.44873 7.17171 2.69054 7.41352 2.98948 7.41352H9.49364C9.21756 7.07841 8.97384 6.71665 8.7663 6.33203H2.98948Z"
                />
                <path
                  d="M15.931 4.03246H13.8747V1.97801C13.8747 1.71525 13.6614 1.50391 13.4006 1.50391C13.1378 1.50391 12.9265 1.71716 12.9265 1.97801V4.03246H10.8701C10.6073 4.03246 10.396 4.24381 10.396 4.50656C10.396 4.76932 10.6092 4.98067 10.8701 4.98067H12.9265V7.03512C12.9265 7.29787 13.1397 7.50922 13.4006 7.50922C13.6633 7.50922 13.8747 7.29597 13.8747 7.03512V4.98067H15.931C16.1938 4.98067 16.4051 4.76742 16.4051 4.50656C16.4051 4.24571 16.1938 4.03246 15.931 4.03246Z"
                  fill="white"
                />
              </svg>
            </div>
            {{ "my_leave" | translate }}
          </ng-template>
          <div class="tab_content">
            <div class="table-wrap">
              <div class="table-inner">
                <table
                  mat-table
                  [dataSource]="dataSource"
                  class="mat-elevation-z8"
                >
                  <!--Name Column -->
                  <!-- <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef>Name</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.leave_type }}
                    </td>
                  </ng-container> -->

                  <!--Leave Type Column -->
                  <ng-container matColumnDef="leavetype">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      (click)="onSortData('leave_type')"
                    >
                      {{ "leave_type" | translate }}
                      <span
                        *ngIf="sortColumn === 'leave_type'"
                        class="material-icons sorticon"
                        >{{ sortIconClass }}</span
                      >
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.leave_type }}
                    </td>
                  </ng-container>

                  <!--Leave Reason Column -->
                  <ng-container matColumnDef="leavereason">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      (click)="onSortData('subject')"
                    >
                      {{ "subject" | translate }}
                      <span
                        *ngIf="sortColumn === 'subject'"
                        class="material-icons sorticon"
                        >{{ sortIconClass }}</span
                      >
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.subject }}
                    </td>
                  </ng-container>

                  <!-- From Date -->
                  <ng-container matColumnDef="fromdate">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      (click)="onSortData('from_date')"
                    >
                      {{ "from_date" | translate }}
                      <span
                        *ngIf="sortColumn === 'from_date'"
                        class="material-icons sorticon"
                        >{{ sortIconClass }}</span
                      >
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.from_date | date : "dd-MM-yyyy HH:mm" }}
                    </td>
                  </ng-container>

                  <!-- To Date Date -->
                  <ng-container matColumnDef="todate">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      (click)="onSortData('to_date')"
                    >
                      {{ "to_date" | translate }}
                      <span
                        *ngIf="sortColumn === 'to_date'"
                        class="material-icons sorticon"
                        >{{ sortIconClass }}</span
                      >
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.to_date | date : "dd-MM-yyyy HH:mm" }}
                    </td>
                  </ng-container>

                  <!-- Comment -->
                  <ng-container matColumnDef="comment">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      (click)="onSortData('reason')"
                    >
                      {{ "leave_reason" | translate }}
                      <span
                        *ngIf="sortColumn === 'reason'"
                        class="material-icons sorticon"
                        >{{ sortIconClass }}</span
                      >
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.reason }}
                    </td>
                  </ng-container>

                  <!--Status column -->
                  <ng-container matColumnDef="status">
                    <th
                      mat-header-cell
                      *matHeaderCellDef
                      (click)="onSortData('status')"
                    >
                      {{ "status" | translate }}
                      <span
                        *ngIf="sortColumn === 'status'"
                        class="material-icons sorticon"
                        >{{ sortIconClass }}</span
                      >
                    </th>
                    <td mat-cell *matCellDef="let element">
                      <div *ngIf="element.status == 1" class="status approved">
                        {{ "approved" | translate }}
                      </div>

                      <div *ngIf="element.status == 0" class="status pending">
                        {{ "pending" | translate }}
                      </div>
                      <div *ngIf="element.status == 2" class="status rejected">
                        {{ "rejected" | translate }}
                      </div>
                      <!-- <div class="status rejected">{{ 'rejected' | translate}}</div> -->
                    </td>
                  </ng-container>

                  <tr
                    mat-header-row
                    *matHeaderRowDef="myleavedisplayedColumns"
                  ></tr>
                  <tr
                    mat-row
                    *matRowDef="let row; columns: myleavedisplayedColumns"
                  ></tr>
                </table>
              </div>
              <div *ngIf="dataSource?.length === 0" class="text-center">
                <b>{{ "no_record_found" | translate }}</b>
              </div>
              <mat-paginator
                class="pagination"
                [length]="totalLength1"
                (page)="handlePageEvent($event)"
                [pageSize]="pageSize1"
                [pageSizeOptions]="[5, 10, 20]"
                showFirstLastButtons
                aria-label="Select page of periodic elements"
              >
              </mat-paginator>
            </div>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>

<!-- ---------------------------------------Add Leave modal---------------------------------------- -->
<div class="add_leave">
  <ng-template #newinvitecontent let-modal>
    <div class="custome_modal">
      <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">
          {{ "add_leave" | translate }}
        </h4>
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="modal.dismiss('Cross click')"
        >
          <mat-icon>close</mat-icon>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="addLeaveDetails">
          <div class="row">
            <div class="item col-md-6" *ngIf="hospitalIds?.length > 0">
              <div class="form_field_wrapper">
                <label>{{ "hospital_name" | translate }}</label>
                <!-- <mat-form-field appearance="fill">
                  <mat-select
                    [(ngModel)]="selectedOptions"
                    disableRipple
                    formControlName="sent_to"
                    placeholder="{{ 'hospital_name' | translate }}"
                  >
                    <mat-option
                      *ngFor="let option of hospitallist"
                      [value]="option.for_portal_user"
                    >
                      {{ option.hospital_name }}
                    </mat-option>
                  </mat-select>
                </mat-form-field> -->
                <select2
                [placeholder] ="'Select Hospital'"
                [overlay]="true"
                [limitSelection]="0"
                [minCountForSearch]="1"
                [data]="hospitallist"
                formControlName="sent_to"
                [(ngModel)]="selectedOptions"
              >
              </select2>
              <span
              class="text-danger"
              *ngIf="isSubmitted && f['sent_to']?.errors?.['required']"
              >{{ "select_hospital_name" | translate }}*</span
            >
              </div>
            </div>
            <div class="item col-md-6 mb-3">
              <div class="form_field_wrapper">
                <label>{{ "leave_type" | translate }}</label>
                <mat-form-field appearance="fill">
                  <mat-select
                    [(ngModel)]="selectedOption"
                    disableRipple
                    formControlName="leave_type"
                    placeholder="{{ 'leave_type' | translate }}"
                  >
                    <mat-option
                      *ngFor="let option of optionsList"
                      [value]="option.label"
                    >
                      {{ option.label }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <span
                class="text-danger"
                *ngIf="isSubmitted && f['leave_type']?.errors?.['required']"
                >{{ "select_leave_type" | translate }}*</span
              >
              </div>
            </div>
            <div class="item col-md-6">
              <div class="form_field_wrapper">
                <label>{{ "subject" | translate }} <span style="color : red">*</span></label> 
                <mat-form-field appearance="fill">
                  <input
                    type="text"
                    matInput
                    formControlName="subject"
                    placeholder="{{ 'subject' | translate }}"
                  />
                </mat-form-field>
                <span
                class="text-danger"
                *ngIf="isSubmitted && f['subject']?.errors?.['required']"
                >{{ "select_subject" | translate }}*</span
              >
              </div>
            </div>
            <div class="item col-md-6 mb-3">
              <div class="form_field_wrapper">
                <label>{{ "date" | translate }}</label><span style="color : red">*</span>
                <div class="leave_date">
                  <mat-form-field class="example-full-width" appearance="fill">
                    <input
                      matInput
                      [matDatepickerFilter]="myFilters"
                      placeholder="{{ 'from' | translate }}"
                      [matDatepicker]="picker3"
                      formControlName="from_date"
                    />
                    <mat-datepicker-toggle
                      matSuffix
                      [for]="picker3"
                    ></mat-datepicker-toggle>
                    <mat-datepicker #picker3></mat-datepicker>
                  </mat-form-field>
                  <span
                    class="text-danger"
                    *ngIf="isSubmitted && f['from_date']?.errors?.['required']"
                    >{{ "select_from_date" | translate }}*</span
                  >
                  <mat-form-field class="example-full-width" appearance="fill">
                    <input
                      matInput
                      [matDatepickerFilter]="myFilters"
                      placeholder="{{ 'to' | translate }}"
                      [matDatepicker]="picker4"
                      formControlName="to_date"
                    />

                    <mat-datepicker-toggle
                      matSuffix
                      [for]="picker4"
                    ></mat-datepicker-toggle>

                    <mat-datepicker #picker4></mat-datepicker>
                  </mat-form-field>
                  <span
                  style="left : 175px !important"
                      class="text-danger"
                      *ngIf="isSubmitted && f['to_date']?.errors?.['required']"
                      >{{ "select_to_date" | translate }}*</span
                    >
                </div>
              </div>
            </div>
            <div class="item col-md-12">
              <div class="form_field_wrapper">
                <label>{{ "reason" | translate }}</label><span style="color : red">*</span>
                <mat-form-field appearance="fill">
                  <textarea
                    matInput
                    formControlName="reason"
                    placeholder="{{ 'reason' | translate }}"
                  ></textarea>
                </mat-form-field>
                <span
                class="text-danger"
                *ngIf="isSubmitted && f['reason']?.errors?.['required']"
                >{{ "select_reason" | translate }}*</span
              >
              </div>
            </div>
          </div>
        </form>
        <div class="primary_btn">
          <button
            type="button"
            class="btn btn-primary"
            (click)="handleAddLeave()"
          >
            {{ "add_leave" | translate }}
          </button>
        </div>
      </div>
    </div>
  </ng-template>
</div>
